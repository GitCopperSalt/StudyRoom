{"remainingRequest":"D:\\桌面文件\\大三上软工项目实现\\实训\\study_room\\code\\client_home\\node_modules\\babel-loader\\lib\\index.js!D:\\桌面文件\\大三上软工项目实现\\实训\\study_room\\code\\client_home\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\桌面文件\\大三上软工项目实现\\实训\\study_room\\code\\client_home\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\桌面文件\\大三上软工项目实现\\实训\\study_room\\code\\client_home\\src\\components\\diy\\list_zhihu_news.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\桌面文件\\大三上软工项目实现\\实训\\study_room\\code\\client_home\\src\\components\\diy\\list_zhihu_news.vue","mtime":1766812282396},{"path":"D:\\桌面文件\\大三上软工项目实现\\实训\\study_room\\code\\client_home\\babel.config.js","mtime":1647778738000},{"path":"D:\\桌面文件\\大三上软工项目实现\\实训\\study_room\\code\\client_home\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1766388186406},{"path":"D:\\桌面文件\\大三上软工项目实现\\实训\\study_room\\code\\client_home\\node_modules\\babel-loader\\lib\\index.js","mtime":1766388187764},{"path":"D:\\桌面文件\\大三上软工项目实现\\实训\\study_room\\code\\client_home\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1766388186406},{"path":"D:\\桌面文件\\大三上软工项目实现\\实训\\study_room\\code\\client_home\\node_modules\\vue-loader\\lib\\index.js","mtime":1766388188316}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgemhpaHVOZXdzU2VydmljZSB9IGZyb20gJ0Avc2VydmljZXMvemhpaHVOZXdzJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdaaGlodU5ld3NMaXN0JywKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbmV3c0xpc3Q6IFtdLAogICAgICB0b3BTdG9yaWVzOiBbXSwKICAgICAgbmV3c0RhdGU6ICcnLAogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgZXJyb3I6IG51bGwKICAgIH07CiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy5sb2FkTmV3cygpOwogIH0sCiAgbWV0aG9kczogewogICAgYXN5bmMgbG9hZE5ld3MoKSB7CiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgIHRoaXMuZXJyb3IgPSBudWxsOwogICAgICB0cnkgewogICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB6aGlodU5ld3NTZXJ2aWNlLmdldERhaWx5TmV3cygpOwoKICAgICAgICAvLyDorr7nva7mlrDpl7vml6XmnJ8KICAgICAgICBpZiAoZGF0YS5kYXRlKSB7CiAgICAgICAgICB0aGlzLm5ld3NEYXRlID0gemhpaHVOZXdzU2VydmljZS5mb3JtYXREYXRlKGRhdGEuZGF0ZSk7CiAgICAgICAgfQoKICAgICAgICAvLyDorr7nva7lpLTmnaHmlrDpl7sKICAgICAgICB0aGlzLnRvcFN0b3JpZXMgPSBhd2FpdCB6aGlodU5ld3NTZXJ2aWNlLmdldFRvcFN0b3JpZXMoKTsKCiAgICAgICAgLy8g6K6+572u5pmu6YCa5paw6Ze75YiX6KGoCiAgICAgICAgdGhpcy5uZXdzTGlzdCA9IGF3YWl0IHpoaWh1TmV3c1NlcnZpY2UuZ2V0TmV3c0xpc3QoKTsKICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmVycm9yKCfliqDovb3nn6XkuY7mlrDpl7vlpLHotKU6JywgZXJyb3IpOwogICAgICAgIHRoaXMuZXJyb3IgPSAn5peg5rOV5Yqg6L295paw6Ze777yM6K+35qOA5p+l572R57uc6L+e5o6l5ZCO6YeN6K+VJzsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgfQogICAgfSwKICAgIGFzeW5jIHJldHJ5TG9hZCgpIHsKICAgICAgYXdhaXQgdGhpcy5sb2FkTmV3cygpOwogICAgfSwKICAgIG9wZW5VcmwodXJsKSB7CiAgICAgIGlmICh1cmwpIHsKICAgICAgICB3aW5kb3cub3Blbih1cmwsICdfYmxhbmsnKTsKICAgICAgfQogICAgfSwKICAgIGhhbmRsZUltYWdlRXJyb3IoZXZlbnQpIHsKICAgICAgLy8g5Zu+54mH5Yqg6L295aSx6LSl5pe25pi+56S66buY6K6k5Zu+54mHCiAgICAgIGV2ZW50LnRhcmdldC5zcmMgPSAnL2ltZy9kZWZhdWx0LnBuZyc7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["zhihuNewsService","name","data","newsList","topStories","newsDate","loading","error","mounted","loadNews","methods","getDailyNews","date","formatDate","getTopStories","getNewsList","console","retryLoad","openUrl","url","window","open","handleImageError","event","target","src"],"sources":["src/components/diy/list_zhihu_news.vue"],"sourcesContent":["<template>\n\t<div class=\"zhihu-news-list\">\n\t\t<div class=\"news-header\">\n\t\t\t<h3 class=\"news-title\">\n\t\t\t\t<b-icon icon=\"newspaper\" class=\"mr-2\"></b-icon>\n\t\t\t\t知乎每日新闻\n\t\t\t</h3>\n\t\t\t<div class=\"news-date\" v-if=\"newsDate\">\n\t\t\t\t{{ newsDate }}\n\t\t\t</div>\n\t\t</div>\n\n\t\t<!-- 头条新闻 -->\n\t\t<div v-if=\"topStories.length > 0\" class=\"top-stories mb-4\">\n\t\t\t<h5 class=\"section-title\">头条新闻</h5>\n\t\t\t<div class=\"row\">\n\t\t\t\t<div class=\"col-md-6\" v-for=\"(story, index) in topStories.slice(0, 2)\" :key=\"index\">\n\t\t\t\t\t<div class=\"top-story-card\" @click=\"openUrl(story.url)\">\n\t\t\t\t\t\t<div class=\"story-image\">\n\t\t\t\t\t\t\t<img :src=\"story.image\" :alt=\"story.title\" @error=\"handleImageError\" />\n\t\t\t\t\t\t\t<div class=\"story-overlay\">\n\t\t\t\t\t\t\t\t<span class=\"story-hint\">{{ story.hint }}</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"story-content\">\n\t\t\t\t\t\t\t<h6 class=\"story-title\">{{ story.title }}</h6>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<!-- 普通新闻列表 -->\n\t\t<div class=\"news-list\">\n\t\t\t<h5 class=\"section-title\">最新资讯</h5>\n\t\t\t<div class=\"row\">\n\t\t\t\t<div class=\"col-md-6 col-lg-4 mb-3\" v-for=\"(news, index) in newsList\" :key=\"index\">\n\t\t\t\t\t<div class=\"news-card\" @click=\"openUrl(news.url)\">\n\t\t\t\t\t\t<div class=\"news-image\">\n\t\t\t\t\t\t\t<img :src=\"news.thumbnail || news.image\" :alt=\"news.title\" @error=\"handleImageError\" />\n\t\t\t\t\t\t\t<div class=\"news-overlay\">\n\t\t\t\t\t\t\t\t<span class=\"news-hint\">{{ news.hint }}</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"news-content\">\n\t\t\t\t\t\t\t<h6 class=\"news-card-title\">{{ news.title }}</h6>\n\t\t\t\t\t\t\t<div class=\"news-meta\">\n\t\t\t\t\t\t\t\t<span class=\"news-id\">#{{ news.id }}</span>\n\t\t\t\t\t\t\t\t<span class=\"news-time\">{{ news.ga_prefix }}</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<!-- 加载状态 -->\n\t\t<div v-if=\"loading\" class=\"loading-state\">\n\t\t\t<b-spinner variant=\"primary\" label=\"Loading...\"></b-spinner>\n\t\t\t<p class=\"mt-2\">正在加载新闻...</p>\n\t\t</div>\n\n\t\t<!-- 错误状态 -->\n\t\t<div v-if=\"error\" class=\"error-state\">\n\t\t\t<b-alert show variant=\"danger\">\n\t\t\t\t<h6>加载失败</h6>\n\t\t\t\t<p>{{ error }}</p>\n\t\t\t\t<b-button @click=\"retryLoad\" variant=\"outline-danger\" size=\"sm\">重试</b-button>\n\t\t\t</b-alert>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport { zhihuNewsService } from '@/services/zhihuNews'\n\nexport default {\n\tname: 'ZhihuNewsList',\n\tdata() {\n\t\treturn {\n\t\t\tnewsList: [],\n\t\t\ttopStories: [],\n\t\t\tnewsDate: '',\n\t\t\tloading: false,\n\t\t\terror: null\n\t\t}\n\t},\n\tmounted() {\n\t\tthis.loadNews()\n\t},\n\tmethods: {\n\t\tasync loadNews() {\n\t\t\tthis.loading = true\n\t\t\tthis.error = null\n\n\t\t\ttry {\n\t\t\t\tconst data = await zhihuNewsService.getDailyNews()\n\t\t\t\t\n\t\t\t\t// 设置新闻日期\n\t\t\t\tif (data.date) {\n\t\t\t\t\tthis.newsDate = zhihuNewsService.formatDate(data.date)\n\t\t\t\t}\n\n\t\t\t\t// 设置头条新闻\n\t\t\t\tthis.topStories = await zhihuNewsService.getTopStories()\n\t\t\t\t\n\t\t\t\t// 设置普通新闻列表\n\t\t\t\tthis.newsList = await zhihuNewsService.getNewsList()\n\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error('加载知乎新闻失败:', error)\n\t\t\t\tthis.error = '无法加载新闻，请检查网络连接后重试'\n\t\t\t} finally {\n\t\t\t\tthis.loading = false\n\t\t\t}\n\t\t},\n\n\t\tasync retryLoad() {\n\t\t\tawait this.loadNews()\n\t\t},\n\n\t\topenUrl(url) {\n\t\t\tif (url) {\n\t\t\t\twindow.open(url, '_blank')\n\t\t\t}\n\t\t},\n\n\t\thandleImageError(event) {\n\t\t\t// 图片加载失败时显示默认图片\n\t\t\tevent.target.src = '/img/default.png'\n\t\t}\n\t}\n}\n</script>\n\n<style scoped>\n.zhihu-news-list {\n\tpadding: 1rem;\n}\n\n.news-header {\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tmargin-bottom: 1.5rem;\n\tpadding-bottom: 0.5rem;\n\tborder-bottom: 2px solid #e9ecef;\n}\n\n.news-title {\n\tcolor: #2c3e50;\n\tmargin: 0;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.news-date {\n\tcolor: #6c757d;\n\tfont-size: var(--font_base);\n}\n\n.section-title {\n\tcolor: #495057;\n\tmargin-bottom: 1rem;\n\tpadding-left: 0.5rem;\n\tborder-left: 3px solid #007bff;\n}\n\n.top-stories {\n\tbackground: #f8f9fa;\n\tpadding: 1rem;\n\tborder-radius: 8px;\n}\n\n.top-story-card {\n\tbackground: white;\n\tborder-radius: 8px;\n\toverflow: hidden;\n\tbox-shadow: 0 2px 8px rgba(0,0,0,0.1);\n\tcursor: pointer;\n\ttransition: transform 0.2s, box-shadow 0.2s;\n}\n\n.top-story-card:hover {\n\ttransform: translateY(-2px);\n\tbox-shadow: 0 4px 16px rgba(0,0,0,0.15);\n}\n\n.story-image {\n\tposition: relative;\n\theight: 200px;\n\toverflow: hidden;\n}\n\n.story-image img {\n\twidth: 100%;\n\theight: 100%;\n\tobject-fit: cover;\n}\n\n.story-overlay {\n\tposition: absolute;\n\tbottom: 0;\n\tleft: 0;\n\tright: 0;\n\tbackground: linear-gradient(transparent, rgba(0,0,0,0.7));\n\tcolor: white;\n\tpadding: 1rem;\n}\n\n.story-hint {\n\tfont-size: var(--font_small);\n\topacity: 0.9;\n}\n\n.story-content {\n\tpadding: 1rem;\n}\n\n.story-title {\n\tcolor: #2c3e50;\n\tfont-weight: 600;\n\tline-height: 1.4;\n\tmargin: 0;\n}\n\n.news-card {\n\tbackground: white;\n\tborder-radius: 8px;\n\toverflow: hidden;\n\tbox-shadow: 0 2px 6px rgba(0,0,0,0.1);\n\tcursor: pointer;\n\ttransition: transform 0.2s, box-shadow 0.2s;\n\theight: 100%;\n\tdisplay: flex;\n\tflex-direction: column;\n}\n\n.news-card:hover {\n\ttransform: translateY(-2px);\n\tbox-shadow: 0 4px 12px rgba(0,0,0,0.15);\n}\n\n.news-image {\n\tposition: relative;\n\theight: 180px;\n\toverflow: hidden;\n}\n\n.news-image img {\n\twidth: 100%;\n\theight: 100%;\n\tobject-fit: cover;\n}\n\n.news-overlay {\n\tposition: absolute;\n\tbottom: 0;\n\tleft: 0;\n\tright: 0;\n\tbackground: linear-gradient(transparent, rgba(0,0,0,0.8));\n\tcolor: white;\n\tpadding: 0.75rem;\n}\n\n.news-hint {\n\tfont-size: var(--font_small);\n\topacity: 0.9;\n}\n\n.news-content {\n\tpadding: 1rem;\n\tflex: 1;\n\tdisplay: flex;\n\tflex-direction: column;\n}\n\n.news-card-title {\n\tcolor: #2c3e50;\n\tfont-weight: 600;\n\tline-height: 1.4;\n\tmargin: 0 0 1rem 0;\n\tflex: 1;\n\tdisplay: -webkit-box;\n\t-webkit-line-clamp: 3;\n\t-webkit-box-orient: vertical;\n\toverflow: hidden;\n}\n\n.news-meta {\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tfont-size: var(--font_small);\n\tcolor: #6c757d;\n}\n\n.loading-state, .error-state {\n\ttext-align: center;\n\tpadding: 2rem;\n}\n\n@media (max-width: 768px) {\n\t.news-header {\n\t\tflex-direction: column;\n\t\talign-items: flex-start;\n\t\tgap: 0.5rem;\n\t}\n\t\n\t.top-stories {\n\t\tpadding: 0.75rem;\n\t}\n\t\n\t.news-image {\n\t\theight: 160px;\n\t}\n}\n</style>"],"mappings":"AA0EA,SAAAA,gBAAA;AAEA;EACAC,IAAA;EACAC,KAAA;IACA;MACAC,QAAA;MACAC,UAAA;MACAC,QAAA;MACAC,OAAA;MACAC,KAAA;IACA;EACA;EACAC,QAAA;IACA,KAAAC,QAAA;EACA;EACAC,OAAA;IACA,MAAAD,SAAA;MACA,KAAAH,OAAA;MACA,KAAAC,KAAA;MAEA;QACA,MAAAL,IAAA,SAAAF,gBAAA,CAAAW,YAAA;;QAEA;QACA,IAAAT,IAAA,CAAAU,IAAA;UACA,KAAAP,QAAA,GAAAL,gBAAA,CAAAa,UAAA,CAAAX,IAAA,CAAAU,IAAA;QACA;;QAEA;QACA,KAAAR,UAAA,SAAAJ,gBAAA,CAAAc,aAAA;;QAEA;QACA,KAAAX,QAAA,SAAAH,gBAAA,CAAAe,WAAA;MAEA,SAAAR,KAAA;QACAS,OAAA,CAAAT,KAAA,cAAAA,KAAA;QACA,KAAAA,KAAA;MACA;QACA,KAAAD,OAAA;MACA;IACA;IAEA,MAAAW,UAAA;MACA,WAAAR,QAAA;IACA;IAEAS,QAAAC,GAAA;MACA,IAAAA,GAAA;QACAC,MAAA,CAAAC,IAAA,CAAAF,GAAA;MACA;IACA;IAEAG,iBAAAC,KAAA;MACA;MACAA,KAAA,CAAAC,MAAA,CAAAC,GAAA;IACA;EACA;AACA","ignoreList":[]}]}